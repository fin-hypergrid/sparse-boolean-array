"use strict";(function(a){function b(){this.selection=[],this.states=[],this.storeState=function(){for(var a,b=this.selection,c=[],d=0;d<b.length;d++)a=[].concat(b[d]),c.push(a);this.states.push(c)}}function c(a,b){return a instanceof Array?c.apply(this,a):void 0===b?[a,a]:b>=a?[a,b]:[b,a]}function d(a,b){return a[0]<=b[0]&&b[0]<=a[1]||a[0]<=b[1]&&b[1]<=a[1]||b[0]<a[0]&&a[1]<b[1]}function e(a,b){return a[1]===b[0]-1||b[1]===a[0]-1}function f(a,b){var c=a[0],d=a[1],e=b[0],f=b[1],g=[];return c>=e&&d>f?g.push([f+1,d]):e>c&&f>=d?g.push([c,e-1]):e>c&&d>f?(g.push([c,e-1]),g.push([f+1,d])):(c>f||e>d)&&g.push(a),g}function g(a,b){var c=Math.min(Math.min.apply(Math,a),Math.min.apply(Math,b)),d=Math.max(Math.max.apply(Math,a),Math.max.apply(Math,b));return[c,d]}b.prototype={select:function(a,b){this.storeState();var f=c(a,b),h=[0,1];return this.selection.forEach(function(a){d(a,f)||e(a,f)?f=g(a,f):h.push(a)}),h.push(f),h[1]=this.selection.length,this.selection.splice.apply(this.selection,h),this},deselect:function(a,b){var e=c(a,b),g=[0,0];return this.selection.forEach(function(a){if(d(a,e)){var b=f(a,e);g=g.concat(b)}else g.push(a)}),g[1]=this.selection.length,this.selection.splice.apply(this.selection,g),this},clear:function(){return this.states.length=0,this.selection.length=0,this},clearMostRecentSelection:function(){0!==this.states.length&&(this.selection=this.states.pop())},isSelected:function(a){return this.selection.some(function(b){return b[0]<=a&&a<=b[1]})},isEmpty:function(){return 0===this.selection.length},getSelections:function(){var a=[];return this.selection.forEach(function(b){for(var c=b[0];c<=b[1];c++)a.push(c)}),a.sort(function(a,b){return a-b}),a}},a.exports=b})("object"==typeof module&&module||(window.RangeSelectionModel={}),"object"==typeof module&&module.exports||(window.RangeSelectionModel.exports={}))||"object"==typeof module||(window.RangeSelectionModel=window.RangeSelectionModel.exports);